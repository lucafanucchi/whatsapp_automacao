<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disparador de Campanhas WhatsApp</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <section id="tela-conexao" class="tela">
        <div class="container-conexao">
            <img src="https://res.cloudinary.com/di1axitma/image/upload/v1751855900/vzqqdv0b6p2eqqn9gze1.png" alt="Logo da Empresa" class="logo">
            <h1>Conectar ao WhatsApp</h1>
            <p>Para usar o sistema, escaneie o QR Code abaixo com seu celular.</p>
            <div id="qrcode-wrapper">
                </div>
            <div id="status-conexao" style="margin-top: 15px; font-weight: bold;">
                Aguardando conexão com o servidor...
            </div>
            <div id="stuck-container" style="display: none; margin-top: 20px; text-align: center; border-top: 1px solid #eee; padding-top: 20px;">
                <p style="color: #555; font-size: 0.9em;">Ainda aguardando? Pode haver uma sessão antiga travada.</p>
                <button id="force-refresh-btn" class="logout-btn-vermelho">Forçar Nova Sessão</button>
            </div>
        </div>
    </section>

    <section id="tela-principal" class="tela" style="display: none;">
         <div class="container">
            <header>
                <img src="https://res.cloudinary.com/di1axitma/image/upload/v1751855900/vzqqdv0b6p2eqqn9gze1.png" alt="Logo da Empresa" class="logo">
                <h1>Painel de Campanhas WhatsApp - Digital Six</h1>
                <div class="header-status">
                    <p id="status-conexao-principal" class="status-online">Status: Conectado</p>
                    <button id="logout-btn-principal" class="logout-btn-header">Desconectar</button>
                </div>
            </header>

            <main>
                <div class="main-content-wrapper">
                    <form id="campanha-form">
                        <div class="form-group">
                            <label for="mensagem">Mensagem da Campanha:</label>
                            <textarea id="mensagem" rows="6" placeholder="Ex: Olá {nome}! Temos uma promoção especial para você esta semana."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="anexo-input">Imagem, PDF ou Vídeo (Opcional):</label>
                            <input type="file" id="anexo-input" accept="image/*, application/pdf, video/mp4, video/quicktime">
                        </div>
                        <div class="form-group">
                            <label for="numeros">Lista de Números:</label>
                            <textarea id="numeros" rows="10" placeholder="Cole aqui, no formato: 5511999998888,Nome do Contato"></textarea>
                        </div>
                        <button type="submit" id="enviar-btn">Enviar Campanha</button>
                    </form>
                    <div class="preview-container">
                        <label>Pré-visualização:</label>
                        <div class="phone-mockup">
                            <div class="chat-bubble">
                                <img id="preview-imagem" src="" alt="Preview da imagem" style="display: none;">
                                <div id="preview-pdf-container" style="display: none;">
                                    <svg class="pdf-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zM9.423 6.99h5.163c.433 0 .785.352.785.785v1.834c0 .433-.352.785-.785.785H9.423a.785.785 0 0 1-.785-.785V7.775c0-.433.352-.785.785-.785zm7.398 8.65H7.179a.785.a785 0 0 1-.723-1.09l1.93-4.398a.785.785 0 0 1 .722-.48h5.81c.36 0 .678.24.767.583l1.815 4.607a.785.785 0 0 1-.715 1.176z"></path></svg>
                                    <span id="preview-pdf-filename">nome-do-arquivo.pdf</span>
                                </div>
                                <video id="preview-video" style="display: none;" controls muted></video>
                                <div id="preview-mensagem">Sua mensagem aparecerá aqui...</div>
                                <div class="timestamp-ticks">
                                    <span>20:45</span>
                                    <svg viewBox="0 0 18 18" height="18" width="18"><path fill="#34B7F1" d="M17.394 5.035l-.57-.444a.434.a434 0 0 0-.612.078l-6.76 8.68-3.385-3.385a.434.a434 0 0 0-.612 0l-.444.444a.434.a434 0 0 0 0 .612l4.11 4.11a.434.a434 0 0 0 .612 0l7.447-9.563a.434.a434 0 0 0-.078-.612zm-8 0l-.57-.444a.434.a434 0 0 0-.612.078l-6.76 8.68-1.146-1.146a.434.a434 0 0 0-.612 0l-.444.444a.434.a434 0 0 0 0 .612l2.227 2.227a.434.a434 0 0 0 .612 0l7.447-9.563a.434.a434 0 0 0-.078-.612z"></path></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
            <footer>
                <h3>Log de Envio:</h3>
                <div id="feedback-envio" class="feedback"></div>
            </footer>
        </div>
    </section>

    <script src="script.js"></script>
</body>
</html>